<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>MMD Viewer PoC</title>
  <link rel="stylesheet" href="/viewer/styles.css" />
  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.159.0/build/three.module.js",
        "three/addons/": "https://unpkg.com/three@0.159.0/examples/jsm/"
      }
    }
  </script>
</head>

<body>
  <div id="overlay">
    <div id="status">Loading viewer...</div>

    <!-- Character / Motion Switcher -->
    <div id="char-controls" class="diag-group">
      <span class="label">Character:</span>
      <select id="char-select">
        <option value="amane_kanata_v1">Kanata v1</option>
        <option value="azki_v1">AZKi</option>
        <option value="SakamataChloe_v1">Chloe</option>
        <option value="amane_kanata_v2_nurse">Kanata Nurse</option>
        <option value="momone_nene">Nene</option>
        <option value="momone_nene_v2">Nene v2 (BEA)</option>
      </select>
      <button id="char-load">Load</button>
    </div>
    <div id="motion-controls" class="diag-group">
      <span class="label">Idle:</span>
      <select id="motion-select">
        <option value="ten_stand.vmd">Ten</option>
        <option value="koa_stand.vmd">Koa</option>
        <option value="marieru_stand.vmd">Marieru</option>
        <option value="rea_stand.vmd">Rea</option>
        <option value="usa_stand.vmd">Usa</option>
      </select>
      <button id="motion-apply">Apply</button>
    </div>

    <div id="diag-controls" class="diag-group">
      <span class="label">Diag:</span>
      <button data-diag="base">Base</button>
      <button data-diag="raw">Raw</button>
      <button data-diag="solid">Solid</button>
      <button data-diag="nearest">Nearest</button>
      <button data-diag="premul">Premul</button>
      <button data-diag="mipmap_on">Mip</button>
    </div>
    <div id="seamfix-controls" class="diag-group">
      <span class="label">SeamFix:</span>
      <label title="UV Bias">bias:<input type="number" id="sf-bias" step="0.0005" min="0" max="0.01"
          value="0.0015"></label>
      <label title="Alpha Test">Î±Test:<input type="number" id="sf-alphatest" step="0.05" min="0" max="1"
          value="0.5"></label>
      <label title="Premultiply Alpha"><input type="checkbox" id="sf-premul" checked>premul</label>
      <label title="Anisotropy">aniso:<input type="number" id="sf-aniso" step="1" min="1" max="16" value="16"></label>
      <button id="sf-apply">Apply</button>
    </div>
    <button id="reload">Reload</button>
  </div>
  <canvas id="canvas"></canvas>
  <script type="module" src="/viewer/viewer.js"></script>
</body>

</html>